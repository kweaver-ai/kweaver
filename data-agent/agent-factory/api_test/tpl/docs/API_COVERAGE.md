# æ¨¡æ¿APIæµ‹è¯•è¦†ç›–èŒƒå›´æ–‡æ¡£

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†æ¨¡æ¿APIæµ‹è¯•å¥—ä»¶çš„è¦†ç›–èŒƒå›´ï¼ŒåŒ…æ‹¬æ‰€æœ‰å·²æµ‹è¯•çš„APIç«¯ç‚¹ã€åŠŸèƒ½ç‰¹æ€§å’Œè¾¹ç•Œæ¡ä»¶ã€‚

## ğŸ¯ APIç«¯ç‚¹è¦†ç›–

### 1. æ ¸å¿ƒCRUDæ“ä½œ

#### åˆ›å»ºæ¨¡æ¿
- **ç«¯ç‚¹**: `POST /api/agent-factory/internal/v3/agent-tpl`
- **æµ‹è¯•è¦†ç›–**:
  - âœ… åŸºæœ¬æ¨¡æ¿åˆ›å»º
  - âœ… å¤æ‚é…ç½®æ¨¡æ¿åˆ›å»º
  - âœ… åŠ¨æ€å˜é‡ä½¿ç”¨
  - âœ… é‡å¤keyé”™è¯¯å¤„ç†
  - âœ… ç¼ºå°‘å¿…éœ€å­—æ®µé”™è¯¯å¤„ç†
  - âœ… è¯·æ±‚ä½“éªŒè¯
- **æµ‹è¯•æ–‡ä»¶**: `create/test_config.yaml`

#### è·å–æ¨¡æ¿åˆ—è¡¨
- **ç«¯ç‚¹**: `GET /api/agent-factory/internal/v3/agent-tpl`
- **æµ‹è¯•è¦†ç›–**:
  - âœ… é»˜è®¤åˆ†é¡µæŸ¥è¯¢
  - âœ… æŒ‡å®šåˆ†é¡µå‚æ•°
  - âœ… å¤§åˆ†é¡µå‚æ•°æµ‹è¯•
  - âœ… å“åº”å­—æ®µç»“æ„éªŒè¯
  - âœ… æ— æ•ˆåˆ†é¡µå‚æ•°é”™è¯¯å¤„ç†
  - âœ… åŠ¨æ€åˆ†é¡µå‚æ•°æµ‹è¯•
- **æµ‹è¯•æ–‡ä»¶**: `list/test_config.yaml`

#### è·å–æ¨¡æ¿è¯¦æƒ…
- **ç«¯ç‚¹**: `GET /api/agent-factory/internal/v3/agent-tpl/{id}`
- **æµ‹è¯•è¦†ç›–**:
  - âœ… æœ‰æ•ˆIDæŸ¥è¯¢
  - âœ… æ— æ•ˆIDé”™è¯¯å¤„ç†ï¼ˆ404ï¼‰
  - âœ… å“åº”å­—æ®µå®Œæ•´æ€§éªŒè¯
  - âœ… é…ç½®ä¿¡æ¯éªŒè¯
- **æµ‹è¯•æ–‡ä»¶**: `detail/test_config.yaml`, `complete_test_suite.yaml`

#### æŒ‰Keyè·å–è¯¦æƒ…
- **ç«¯ç‚¹**: `GET /api/agent-factory/internal/v3/agent-tpl/by-key/{key}`
- **æµ‹è¯•è¦†ç›–**:
  - âœ… æœ‰æ•ˆKeyæŸ¥è¯¢
  - âœ… æ— æ•ˆKeyé”™è¯¯å¤„ç†ï¼ˆ404ï¼‰
  - âœ… KeyåŒ¹é…éªŒè¯
- **æµ‹è¯•æ–‡ä»¶**: `complete_test_suite.yaml`

#### æ›´æ–°æ¨¡æ¿
- **ç«¯ç‚¹**: `PUT /api/agent-factory/internal/v3/agent-tpl/{id}`
- **æµ‹è¯•è¦†ç›–**:
  - âœ… åŸºæœ¬ä¿¡æ¯æ›´æ–°
  - âœ… é…ç½®æ›´æ–°
  - âœ… åŠ¨æ€å˜é‡ä½¿ç”¨
  - âœ… æ— æ•ˆIDé”™è¯¯å¤„ç†
  - âœ… æ›´æ–°ç»“æœéªŒè¯
- **æµ‹è¯•æ–‡ä»¶**: `update/test_config.yaml`, `complete_test_suite.yaml`

#### åˆ é™¤æ¨¡æ¿
- **ç«¯ç‚¹**: `DELETE /api/agent-factory/internal/v3/agent-tpl/{id}`
- **æµ‹è¯•è¦†ç›–**:
  - âœ… æœ‰æ•ˆIDåˆ é™¤
  - âœ… æ— æ•ˆIDé”™è¯¯å¤„ç†
  - âœ… åˆ é™¤åéªŒè¯
- **æµ‹è¯•æ–‡ä»¶**: `delete/test_config.yaml`, `complete_test_suite.yaml`

### 2. å‘å¸ƒç®¡ç†åŠŸèƒ½

#### å‘å¸ƒæ¨¡æ¿
- **ç«¯ç‚¹**: `POST /api/agent-factory/internal/v3/agent-tpl/{id}/publish`
- **æµ‹è¯•è¦†ç›–**:
  - âœ… æ­£å¸¸å‘å¸ƒæµç¨‹
  - âœ… ç‰ˆæœ¬ä¿¡æ¯è®¾ç½®
  - âœ… å‘å¸ƒè¯´æ˜è®¾ç½®
  - âœ… æ— æ•ˆIDé”™è¯¯å¤„ç†
- **æµ‹è¯•æ–‡ä»¶**: `publish/test_config.yaml`, `complete_test_suite.yaml`

#### å–æ¶ˆå‘å¸ƒ
- **ç«¯ç‚¹**: `POST /api/agent-factory/internal/v3/agent-tpl/{id}/unpublish`
- **æµ‹è¯•è¦†ç›–**:
  - âœ… æ­£å¸¸å–æ¶ˆå‘å¸ƒæµç¨‹
  - âœ… æœªå‘å¸ƒçŠ¶æ€å¤„ç†
  - âœ… æ— æ•ˆIDé”™è¯¯å¤„ç†
- **æµ‹è¯•æ–‡ä»¶**: `publish/test_config.yaml`, `complete_test_suite.yaml`

#### è·å–å‘å¸ƒä¿¡æ¯
- **ç«¯ç‚¹**: `GET /api/agent-factory/internal/v3/agent-tpl/{id}/publish-info`
- **æµ‹è¯•è¦†ç›–**:
  - âœ… è·å–åˆ†ç±»åˆ—è¡¨
  - âœ… åˆ†ç±»æ•°æ®ç»“æ„éªŒè¯
  - âœ… æ— æ•ˆIDé”™è¯¯å¤„ç†
  - âœ… ä¸åˆ†ç±»APIæ•°æ®ä¸€è‡´æ€§éªŒè¯
  - âœ… æ€§èƒ½æµ‹è¯•
- **æµ‹è¯•æ–‡ä»¶**: `publish_info/test_config.yaml`, `complete_test_suite.yaml`

#### æ›´æ–°å‘å¸ƒä¿¡æ¯
- **ç«¯ç‚¹**: `POST /api/agent-factory/internal/v3/agent-tpl/{id}/publish-info`
- **æµ‹è¯•è¦†ç›–**:
  - âœ… å•ä¸ªåˆ†ç±»æ›´æ–°
  - âœ… å¤šä¸ªåˆ†ç±»æ›´æ–°
  - âœ… åŠ¨æ€åˆ†ç±»æ›´æ–°
  - âœ… æ— æ•ˆåˆ†ç±»IDé”™è¯¯å¤„ç†
  - âœ… ç©ºåˆ†ç±»IDé”™è¯¯å¤„ç†
  - âœ… ç¼ºå°‘è¯·æ±‚ä½“é”™è¯¯å¤„ç†
- **æµ‹è¯•æ–‡ä»¶**: `publish_info/test_config.yaml`, `complete_test_suite.yaml`

### 3. æ‰©å±•åŠŸèƒ½

#### å¤åˆ¶æ¨¡æ¿
- **ç«¯ç‚¹**: `POST /api/agent-factory/internal/v3/agent-tpl/{id}/copy`
- **æµ‹è¯•è¦†ç›–**:
  - âœ… åŸºæœ¬å¤åˆ¶åŠŸèƒ½
  - âœ… é«˜çº§å¤åˆ¶åŠŸèƒ½
  - âœ… æ‰¹é‡å¤åˆ¶æµ‹è¯•
  - âœ… å¤åˆ¶ç‹¬ç«‹æ€§éªŒè¯
  - âœ… æ— æ•ˆæºIDé”™è¯¯å¤„ç†
  - âœ… é‡å¤keyé”™è¯¯å¤„ç†
  - âœ… ç¼ºå°‘å¿…éœ€å­—æ®µé”™è¯¯å¤„ç†
- **æµ‹è¯•æ–‡ä»¶**: `copy/test_config.yaml`, `complete_test_suite.yaml`

## ğŸ”§ åŠŸèƒ½ç‰¹æ€§è¦†ç›–

### 1. åŠ¨æ€å˜é‡ç³»ç»Ÿ
- âœ… `${uuid}` - UUIDç”Ÿæˆ
- âœ… `${timestamp}` - æ—¶é—´æˆ³ç”Ÿæˆ
- âœ… `${timestamp_ms}` - æ¯«ç§’æ—¶é—´æˆ³
- âœ… `${random_number:min-max}` - éšæœºæ•°ç”Ÿæˆ
- âœ… `${random_string:length}` - éšæœºå­—ç¬¦ä¸²
- âœ… `${random_name:length}` - éšæœºå§“å

### 2. å˜é‡æå–åŠŸèƒ½
- âœ… ä»å“åº”ä½“æå–å˜é‡
- âœ… JSONPathæ”¯æŒ
- âœ… é»˜è®¤å€¼è®¾ç½®
- âœ… é“¾å¼æµ‹è¯•æ”¯æŒ

### 3. æ–­è¨€ç±»å‹
- âœ… `exists` - å­—æ®µå­˜åœ¨æ€§æ£€æŸ¥
- âœ… `contains` - å­—ç¬¦ä¸²åŒ…å«æ£€æŸ¥
- âœ… `equals` - ç²¾ç¡®åŒ¹é…æ£€æŸ¥
- âœ… `greater_than` - æ•°å€¼æ¯”è¾ƒ
- âœ… `greater_than_or_equal` - å¤§äºç­‰äºæ¯”è¾ƒ
- âœ… `less_than_or_equal` - å°äºç­‰äºæ¯”è¾ƒ

### 4. é”™è¯¯å¤„ç†
- âœ… 400 Bad Request - å‚æ•°é”™è¯¯
- âœ… 404 Not Found - èµ„æºä¸å­˜åœ¨
- âœ… é‡å¤æ•°æ®å¤„ç†
- âœ… ç¼ºå°‘å¿…éœ€å­—æ®µå¤„ç†
- âœ… æ— æ•ˆå‚æ•°å¤„ç†

## ğŸ“Š æµ‹è¯•ç»Ÿè®¡

### æµ‹è¯•ç”¨ä¾‹æ•°é‡
- **å®Œæ•´æµ‹è¯•å¥—ä»¶**: 16ä¸ªæµ‹è¯•ç”¨ä¾‹
- **é«˜çº§åŠŸèƒ½æµ‹è¯•**: 11ä¸ªæµ‹è¯•ç”¨ä¾‹
- **åˆ›å»ºåŠŸèƒ½æµ‹è¯•**: 8ä¸ªæµ‹è¯•ç”¨ä¾‹
- **åˆ—è¡¨åŠŸèƒ½æµ‹è¯•**: 14ä¸ªæµ‹è¯•ç”¨ä¾‹
- **å‘å¸ƒä¿¡æ¯æµ‹è¯•**: 13ä¸ªæµ‹è¯•ç”¨ä¾‹
- **å¤åˆ¶åŠŸèƒ½æµ‹è¯•**: 16ä¸ªæµ‹è¯•ç”¨ä¾‹
- **æ€»è®¡**: 78+ä¸ªæµ‹è¯•ç”¨ä¾‹

### è¦†ç›–ç‡ç»Ÿè®¡
- **APIç«¯ç‚¹è¦†ç›–**: 100% (8/8ä¸ªç«¯ç‚¹)
- **HTTPæ–¹æ³•è¦†ç›–**: 100% (GET, POST, PUT, DELETE)
- **é”™è¯¯çŠ¶æ€ç è¦†ç›–**: 100% (400, 404)
- **æˆåŠŸçŠ¶æ€ç è¦†ç›–**: 100% (200, 201, 204)

## ğŸ¨ æµ‹è¯•åœºæ™¯

### 1. æ­£å¸¸æµç¨‹æµ‹è¯•
- âœ… åˆ›å»º â†’ æŸ¥è¯¢ â†’ æ›´æ–° â†’ åˆ é™¤
- âœ… åˆ›å»º â†’ å¤åˆ¶ â†’ éªŒè¯ç‹¬ç«‹æ€§
- âœ… åˆ›å»º â†’ å‘å¸ƒ â†’ å–æ¶ˆå‘å¸ƒ
- âœ… åˆ›å»º â†’ è·å–å‘å¸ƒä¿¡æ¯ â†’ æ›´æ–°å‘å¸ƒä¿¡æ¯

### 2. è¾¹ç•Œæ¡ä»¶æµ‹è¯•
- âœ… æœ€å¤§åˆ†é¡µå‚æ•°
- âœ… æœ€å°åˆ†é¡µå‚æ•°
- âœ… ç©ºå­—ç¬¦ä¸²å¤„ç†
- âœ… ç‰¹æ®Šå­—ç¬¦å¤„ç†

### 3. å¹¶å‘æµ‹è¯•
- âœ… å¤šæ¬¡è¿ç»­åˆ›å»º
- âœ… æ‰¹é‡å¤åˆ¶
- âœ… æ€§èƒ½å‹åŠ›æµ‹è¯•

### 4. æ•°æ®ä¸€è‡´æ€§æµ‹è¯•
- âœ… å¤åˆ¶åæ•°æ®å®Œæ•´æ€§
- âœ… æ›´æ–°åæ•°æ®ä¸€è‡´æ€§
- âœ… åˆ é™¤åæ•°æ®æ¸…ç†

## ğŸ” é›†æˆæµ‹è¯•

### 1. æœåŠ¡é—´é›†æˆ
- âœ… ä¸åˆ†ç±»æœåŠ¡é›†æˆ
- âœ… å‘å¸ƒä¿¡æ¯ä¸åˆ†ç±»APIæ•°æ®ä¸€è‡´æ€§
- âœ… è·¨æœåŠ¡æ•°æ®éªŒè¯

### 2. æ•°æ®åº“é›†æˆ
- âœ… æ•°æ®æŒä¹…åŒ–éªŒè¯
- âœ… äº‹åŠ¡å®Œæ•´æ€§æµ‹è¯•
- âœ… æ•°æ®æ¸…ç†éªŒè¯

## ğŸ“ˆ æ€§èƒ½æµ‹è¯•

### 1. å“åº”æ—¶é—´
- âœ… åˆ›å»ºæ“ä½œ: < 15s
- âœ… æŸ¥è¯¢æ“ä½œ: < 10s
- âœ… æ›´æ–°æ“ä½œ: < 10s
- âœ… åˆ é™¤æ“ä½œ: < 10s
- âœ… å¤åˆ¶æ“ä½œ: < 15s

### 2. å¹¶å‘å¤„ç†
- âœ… å¤šä¸ªå¹¶å‘è¯·æ±‚å¤„ç†
- âœ… èµ„æºç«äº‰å¤„ç†
- âœ… è¶…æ—¶å¤„ç†

## ğŸš€ é«˜çº§åŠŸèƒ½

### 1. é“¾å¼æµ‹è¯•
- âœ… å˜é‡åœ¨æµ‹è¯•é—´ä¼ é€’
- âœ… å¤æ‚æµ‹è¯•æµç¨‹ç¼–æ’
- âœ… æ¡ä»¶ä¾èµ–å¤„ç†

### 2. åŠ¨æ€æ•°æ®ç”Ÿæˆ
- âœ… è¿è¡Œæ—¶æ•°æ®ç”Ÿæˆ
- âœ… éšæœºæ•°æ®æ³¨å…¥
- âœ… æ—¶é—´æˆ³åŒæ­¥

### 3. è‡ªåŠ¨åŒ–æ¸…ç†
- âœ… æµ‹è¯•æ•°æ®è‡ªåŠ¨æ¸…ç†
- âœ… å¤±è´¥æµ‹è¯•å›æ»š
- âœ… èµ„æºæ³„æ¼é˜²æŠ¤

## ğŸ“ æµ‹è¯•æŠ¥å‘Š

### 1. HTMLæŠ¥å‘Š
- âœ… è¯¦ç»†æµ‹è¯•ç»“æœ
- âœ… é”™è¯¯ä¿¡æ¯å±•ç¤º
- âœ… æ€§èƒ½æ•°æ®ç»Ÿè®¡
- âœ… å¯è§†åŒ–å›¾è¡¨

### 2. å®æ—¶ç›‘æ§
- âœ… æµ‹è¯•è¿›åº¦è·Ÿè¸ª
- âœ… å¤±è´¥å®æ—¶é€šçŸ¥
- âœ… æ€§èƒ½æŒ‡æ ‡ç›‘æ§

## ğŸ”® æœªæ¥æ‰©å±•

### 1. è®¡åˆ’å¢åŠ çš„æµ‹è¯•
- ğŸ”„ æ›´å¤šè¾¹ç•Œæ¡ä»¶æµ‹è¯•
- ğŸ”„ å‹åŠ›æµ‹è¯•å¢å¼º
- ğŸ”„ å®‰å…¨æ€§æµ‹è¯•
- ğŸ”„ å…¼å®¹æ€§æµ‹è¯•

### 2. å·¥å…·æ”¹è¿›
- ğŸ”„ æ›´å¤šæ–­è¨€ç±»å‹
- ğŸ”„ æ›´å¤æ‚çš„å˜é‡æ“ä½œ
- ğŸ”„ æµ‹è¯•æ•°æ®ç®¡ç†
- ğŸ”„ æµ‹è¯•ç¯å¢ƒéš”ç¦»

## ğŸ“ è”ç³»ä¿¡æ¯

å¦‚æœ‰æµ‹è¯•ç›¸å…³é—®é¢˜ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿæˆ–æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£ã€‚ 