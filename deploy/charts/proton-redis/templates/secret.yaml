{{- if and .Values.enableSSL (empty .Values.secret.secretName) }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ template "redis.name" . }}-ssl-secret
  namespace: {{ $.Values.namespace }}
type: Opaque
data:
  {{ .Values.secret.caName }}: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURPVENDQWlHZ0F3SUJBZ0lKQVBCOEZLMzZ2ZXMxTUEwR0NTcUdTSWIzRFFFQkN3VUFNREl4Q3pBSkJnTlYKQkFZVEFrTk9NUTh3RFFZRFZRUUtEQVp0ZVhOeGJHUXhFakFRQmdOVkJBTU1DVzE1YzNGc1pDMURRVEFnRncweQpNVEEyTWpJd09URXdNakphR0E4ek1ESXdNVEF5TXpBNU1UQXlNbG93TWpFTE1Ba0dBMVVFQmhNQ1EwNHhEekFOCkJnTlZCQW9NQm0xNWMzRnNaREVTTUJBR0ExVUVBd3dKYlhsemNXeGtMVU5CTUlJQklqQU5CZ2txaGtpRzl3MEIKQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdXorUzZPSWFLTm5VUDBnc2ZCN2U4d3ErNEJvZkd4TWE3TDFFeVdkZwpGWDJUYmhnWk1CYVNLQjJtZXhuSDhMZVVrV2thWWpSbHJqNjNHUHVFNGtkWDVheWJpOFJNUmhiM3lKSm1mdkg0CnNhTXdUVkRRckVvS3c0T05ZYkhKclNDTEdWWjl0WnFmTWFTSitmRjFyaEFnT0VTeEduRzRLM2hIbzlMalp1MXkKdWw4bVZiNWFtZHJnazh6M2xIOHpnSmpZUktRUjQwNFZleE9RNG4ybGVubVRlQkJxWlVFVFhVTktLek9SZ1lTRAppRVUxNHJyL2x4bUJPbVFNV0preDFtNGNpR0FBZFQxS3pmMzFWWU5LSkdlWDFYU25wSCtZMFNWMkNBbVNmc2RiCjAvM3k0VENFdndXSTdpU0VXNVdJZDlQWC9Uc2loZjR2R2RBcmFGUmFxNG5JNXdJREFRQUJvMUF3VGpBZEJnTlYKSFE0RUZnUVU1MHZVTHFsK20yUlh3cWFNR2JNM0s1b0VjaW93SHdZRFZSMGpCQmd3Rm9BVTUwdlVMcWwrbTJSWAp3cWFNR2JNM0s1b0VjaW93REFZRFZSMFRCQVV3QXdFQi96QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFVcGZqCm01UkhCMUNrWnJqVjlvZUY1ampEYm9XMTlVQ1JJYUhmTzlQM3N3bUc3TWFtNXdydHJ0dmJpQ3VDbTJ1cTZaeDYKT2F5QWRrR2ZOY0w3ZVNmeis5S3NSbVRxM2JIT3NsSnBSZWF1ZUs0WEM2MWwxYU1YTWFrQk1jbjFwb1pXSEhJZwp5QWhBT1hzR2hlbEtRcGszWUZSVGI0R1RBT1BtVWZ5TVRrRzZRY2VIUnVnWnM0WlhzekRiT0pZWXZJR0kzcTcxClh2T0Z0ZVZ3Tm1OSEtHNmRRaStyQVhFeHJUTGJWWjl1Rlc4WkYwWFRqbXpGaENPc3RJNitMZW84ME83OEMvTTMKTmRaMTF3TmVpR1lab0FvcTZsQS9LM0RGdFl6TnhkRWJ1Ykk3aWVEMUVJQ1FDOVd6eXJsaSt6dHVBZXh3bW5uRApaLzFwZ3QvOUt0WXNBZzdwYkE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  {{ .Values.secret.certName }}: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMzakNDQWNZQ0FRRXdEUVlKS29aSWh2Y05BUUVMQlFBd01qRUxNQWtHQTFVRUJoTUNRMDR4RHpBTkJnTlYKQkFvTUJtMTVjM0ZzWkRFU01CQUdBMVVFQXd3SmJYbHpjV3hrTFVOQk1DQVhEVEl4TURZeU1qQTVNVEF5TTFvWQpEek13TWpBeE1ESXpNRGt4TURJeldqQTJNUXN3Q1FZRFZRUUdFd0pEVGpFUE1BMEdBMVVFQ2d3R2JYbHpjV3hrCk1SWXdGQVlEVlFRRERBMXRlWE54YkdRdGMyVnlkbVZ5TUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEEKTUlJQkNnS0NBUUVBa3ZDbWl5UkhDOHBjU0NlL1VScHRWTkh4TElkUkE1SzcwcWd0eVpJTHMvS2h3SENVRE5sTQprUHcyR0RINmdEZ210SjJVbFAxWWRKM09UQm1nUkVuVk5yb3BMNDFEMUgxUHU5aWJHK0xoYVBmWGpOaGpWcitECk1uN1NIemQ1WDYrVEZXSTZVdGtpT3Vua2Q3RUM0em9vUU5rKzJzMVorK0lMNDdXOXFKek9HTnZheXB6b2tJR1cKU3lrcGpFUXkzWDVEdVU5UGI5TUxkZHkzS21yaHZTU3hDaXhOZy9iMkdnUEFyMzM2aHFIRXluUmNiaUJiV3o0eApKT3JPSmw3MVhQNERob1FCYVNVZks1eVhoN1JtS2hDL3FDemF0Z1lweHNEYlJwMWJCdkh4UndSc0xZbWQ3bTYwCk0vcjJ5SWZteHJ4bVU1Nll2RVVZRjU4Q0xESGVXdmJVV3dJREFRQUJNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUIKQVFCaEJ2NE93a1l1clFiaFVpSUVhNnFFamwrZkZ5WXBlN2E4SndiRWZRalpMdSt1UncrUGU3UmpNOEp4bnM2QQo4UDdhWTFYWUZUMTR1MURNWHdMS0ZwRmRvN1M5aVBjK0pFelNmWWtkRGw1dWFscWJoRGlhVENWOE1YaTd5T0JuCjlNVklTbW95eTRRc01XYWhhL0lZNkhXSHIwQkw1V24wZFkzdGdYdE9iRE5KQS9zenl5WmFBcjlobjh0U3MvaXAKQWk0TWFuWGxNS0hRUjlCNFlQM0I0UUZHRHpTM0pHRVNWVjE4blFBVlBoS0xvMlJrSWxlb3ZkRXZTZXVTdG90LwpMemQxT0ljTVZmYWh6RG04WTB5VVNRNEgwSUNrcWQvajVoSFp0djIxSStEWFBNM0I1TEdhbTNicFFTdGxpVjl1CnBwbzcyVW4xR0l1UXo2VW51dmJUaWhTeAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  {{ .Values.secret.keyName }}: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBa3ZDbWl5UkhDOHBjU0NlL1VScHRWTkh4TElkUkE1SzcwcWd0eVpJTHMvS2h3SENVCkRObE1rUHcyR0RINmdEZ210SjJVbFAxWWRKM09UQm1nUkVuVk5yb3BMNDFEMUgxUHU5aWJHK0xoYVBmWGpOaGoKVnIrRE1uN1NIemQ1WDYrVEZXSTZVdGtpT3Vua2Q3RUM0em9vUU5rKzJzMVorK0lMNDdXOXFKek9HTnZheXB6bwprSUdXU3lrcGpFUXkzWDVEdVU5UGI5TUxkZHkzS21yaHZTU3hDaXhOZy9iMkdnUEFyMzM2aHFIRXluUmNiaUJiCld6NHhKT3JPSmw3MVhQNERob1FCYVNVZks1eVhoN1JtS2hDL3FDemF0Z1lweHNEYlJwMWJCdkh4UndSc0xZbWQKN202ME0vcjJ5SWZteHJ4bVU1Nll2RVVZRjU4Q0xESGVXdmJVV3dJREFRQUJBb0lCQVFDUThUejI1NVFGTjFtTAorMWttb1ZEVGFEdmoxcDY5VFpKa0cyeis5a2NBL0FjK0VrNlgxZ2xHd3VLQlAxdC8rdU9ES2lXVVNjdGxUUHhmCjZLOUViU2dhVWN1cWtrZ2taRyt3TmR2YXlCUGRQUXlzYkE2aFZVd1BGVFlqZ004QzZlZkdJaHl4K0dsaGY3SFQKdHhISUhtZnlmOWtXYjVXaGRycVBwWWd0dUc4NzZMUG9SK2hKemNPaUY5Rnc2SDRvZVNFZGNtRmlQaitoQTNQQwpKZ1NBc0c4UHl6Nkk1S1M5VHlsNFMraFFSMEJ3Wjgwd1MwbVQzOWRlSlZGdTIvZ0lqU3ZPaElOejJGa0Z3cDdSCnFuekorbm5jaWxPN1Y1NFNZRnlDK1ZNcjMzZGdNRmorbkQ0YjZFelhFa1RsWWdDTzUvWnhJV3ZoRC9VeGxOSXYKcDRyZ3RaV2hBb0dCQU1MZFJmZ2plSk0ySGtiVXUwL2haeTEzYVozVFlidEVkbjF4Q1QySURPSjFHanBOWW1UZQpIUnNJRTREWEY2Z2dBYys5WlpYSFF2UVZSd2prMDRsU0hVRDlQemo2anBNeGMrYnY0Q3VIRHlnSUwrOHh3SStoClFQMUh1RXVHdmxWeUM0c0Z3MmFYYUpUSks4aHNsQ292ZmVyRjhhdmViWWhXaXpNd3pvam8rSkl6QW9HQkFNRUsKU2NRUEZGRHg0VEE0UUhJU2svcmVHVDM5M0Z4NjJvTTdWYWZqTGhoUkw4UWJiUHY5Rmw3SmxlUURBTFpFek8xTQpmOWJTeGg4bnJxdVNFZmpzSXExWDV0WFkzanhYTUhrU2hYaGZLbm5ycy9XWG9ZNXF1aHVWclczelhWZXNXL1p3CjBPblBWZnhSYWNmZCt1T0RwOXlQMXBTc3dSRkw1bXRxeE5QYk41MDVBb0dBWVlnaTF6blp4Y1RXanBrM1Q1bi8KN0cvU094NXIwakZJSlMwSWRQVzlqVE1UZDQ3MzZvaUpoTmdiK3VhdGZvYldvVVdvckxqWk9CWFdRZ3RXSFdzdQpIVE1rQzc3TTBidDB5V2ZTaWJiRnpVR2J6RnJZaUlzclhob2hraHZVOUN0cXY2Q1kxcVo5djhxWTBXNFhFcTVHCmxkV1JTbmEvMS9lSklJd1RNODkzYXFVQ2dZQndjZXk4SHNpSHlnMlJTQU1LTDVZeFdIUTlyd1ZRZldPUmM5dVcKT3ZnYnhCYmQxZGZyQk9hbCtpaXNzNjhUZlFvZDVDVEhYdWwzTm1kQm00bUtoUXBDRE9UeWhpd1YyL2ZwWG9lTwpzV2lOc21XV1ZtZ09ERTh5U0VMSXZDMFFKOTg5czBPT0htOEkxZWVYTzgrci9ZR25NY1lkdm0rTUFybEtzdHZLClNIU2h5UUtCZ0RGN0JrVFpidzUrUGw4ZFRWVTFNWHZhanhwUGNsYzlrTTFDbG9kOVhxTG9iNGtiYS9aSnIzZFkKSjd6NVZLc0NSTXZpcEREclFBZ3Y5SjQ2cHcyR2RMMVNJY3RCYU9LcDhDMWV1UVBjeHFMV1JUbzZ3UU51T3ZLNQo5VnRQanNrdzl6Wkd0RjUxMzZEaFdZeGg5UE8rak80blA3TC96ME1oR3NoeEtJZGYraExiCi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
{{- end }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ template "redis.name" . }}-secret
  namespace: {{ .Values.namespace }}
type: Opaque
data:
  password: {{ .Values.redis.rootPassword | b64enc }}
  nonEncrpt-password: {{ "adp@redis123" | b64enc }}
  monitor-password: {{ "YWRwQHJlZGlzMTIz" | b64enc }}
  sentinel-password: {{ "YWRwQHJlZGlzMTIz" | b64enc }}